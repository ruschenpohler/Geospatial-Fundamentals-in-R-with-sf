SFhomes <- read.csv('data/sf_properties_25ksample.csv',
stringsAsFactors = FALSE)
# Take a look at first 5 rows and a few of the columns
SFhomes[1:5,c("YearBuilt","totvalue","AreaSquareFeet","Neighborhood",
"NumBedrooms")]
SFhomes <- read.csv('data/sf_properties_25ksample.csv',
stringsAsFactors = FALSE)
# Take a look at first 5 rows and a few of the columns
SFhomes[1:5,c("YearBuilt","totvalue","AreaSquareFeet","Neighborhood",
"NumBedrooms")]
SFhomes <- read.csv('data/sf_properties_25ksample.csv',
stringsAsFactors = FALSE)
# Take a look at first 5 rows and a few of the columns
SFhomes[1:5,c("YearBuilt","totvalue","AreaSquareFeet","Neighborhood",
"NumBedrooms")]
SFhomes <- read.csv('data/sf_properties_25ksample.csv',
stringsAsFactors = FALSE)
# Take a look at first 5 rows and a few of the columns
SFhomes[1:5,c("YearBuilt","totvalue","AreaSquareFeet","Neighborhood",
"NumBedrooms")]
class(SFhomes)
dim(SFhomes)              # how many rows and columns
str(SFhomes)              # display the structure of the object
head(SFhomes)             # take a look at the first 10 records
summary(SFhomes)          # explore the range of values
summary(SFhomes$totvalue) # explore the range of values for one column
hist(SFhomes$totvalue)    # histogram for the totvalue column
plot(SFhomes$lon, SFhomes$lat) # using base plot function
library(ggplot2)
library(ggplot2)
ggplot() + geom_point(data=SFhomes, aes(lon,lat))
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1)
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1) + coord_map()
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1) #+ coord_map()
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1) + coord_map()
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=0.2)
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1)
installed.packages("mapproj")
ggplot() + geom_point(data=SFhomes, aes(lon,lat), size=1) + coord_map()
installed.packages("mapproj")
ggplot() + geom_point(data=SFhomes, aes(lon,lat, col=totvalue)) +
coord_map()
SFhomes_low2high <- SFhomes[order(SFhomes$totvalue, decreasing = FALSE),]
ggplot() +
geom_point(data=SFhomes_low2high, aes(lon,lat, col=totvalue)) #+
ggplot() +
geom_point(data=SFhomes_low2high, aes(lon,lat, col=totvalue)) +
coord_map()
SFhomes2010_15 <- subset(SFhomes_low2high, as.numeric(SalesYear) > 2009)
ggplot() +
geom_point(aes(lon, lat, col=totvalue), data = SFhomes2010_15 )  +
facet_wrap(~ SalesYear)
bart <- read.csv("./data/bart.csv")
# take a look
head (bart)
SFhomes15 <- subset(SFhomes_low2high, as.numeric(SalesYear) == 2015)
sfmap_with_bart <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat, col=totvalue))  +
geom_point(data=bart, aes(x=X,y=Y), col="red", size=3)
sfmap_with_bart
sfmap_with_bart <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat, col=totvalue))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3)
sfmap_with_bart
ggplot() +
geom_point(data=SFhomes, aes(lon,lat, col=totvalue), size=1) +
coord_map()
installed.packages("mapproj")
install.packages("mapproj")
ggplot() +
geom_point(data=SFhomes, aes(lon,lat, col=totvalue), size=1) +
coord_map()
head(landmarks)
landmarks <- read.csv("./data/landmarks.csv")
head(landmarks)
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4)
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4)
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4) +
coord_map()
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4)
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4) +
coord_map()
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4) + coord_map()
sfmap_bart_landmarks
sfmap_bart_landmarks <- ggplot() +
geom_point(data=SFhomes15, aes(x=lon, y=lat))  +
geom_point(data=bart[bart$CO=='SF',], aes(x=X,y=Y), col="red", size=3) +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4) +
coord_map()
sfmap_bart_landmarks
ggplot() +
geom_point(data=landmarks, aes(x=X,y=Y), shape=22,
col="black", fill="grey", size=4)
library(sf)
dir("data", pattern = "sftracts.")
tracts = st_read(dsn = './data', layer = 'sftracts')
dir("data", pattern = "sftracts.")
setwd("C:/Users/ruschenpohler/Desktop/GitHub/Geospatial-Fundamentals-in-R-with-sf")
dir("data", pattern = "sftracts.")
tracts = st_read(dsn = './data', layer = 'sftracts')
#the object displays a compact summary, when its name is called
tracts
class(tracts)
str(tracts)
nrow(tracts)
colnames(tracts)
head(tracts, 4)
plot(tracts)
#read in a shapefile of SF census tracts
plot(tracts['NAME'])
plot(tracts)
#read in a shapefile of SF census tracts
plot(tracts['GEOID'])
#read in a shapefile of SF census tracts
plot(tracts['NAME'])
tracts$geometry
tracts$geometry[[1]]
st_crs(tracts)
class(tracts['NAME'])
class(tracts[, 'NAME'])
class(subset(tracts, select='NAME'))
class(tracts$NAME)
tracts$geometry
tracts$geometry[[1]]
st_crs(tracts)
st_crs(tracts)
bbox = st_bbox(tracts)
bbox
bbox$xmin
ggplot() + geom_sf(data = tracts) +
geom_point(data = SFhomes15, aes(lon, lat, col = totvalue))
st_crs(tracts)
st_crs(SFhomes15, n = 1)
st_crs(4326)
SFhomes15_sf = st_as_sf(SFhomes15, coords = c('lon', 'lat'), crs = 4326)
SFhomes15_sf
st_crs(SFhomes15_sf)
st_crs(SFhomes15_sf)
SFhomes15_sf
